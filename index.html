<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
  <!-- Basic Meta Tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <!-- Security Headers (only ones that work via meta tag) -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.googletagmanager.com https://www.google-analytics.com https://connect.facebook.net https://aistudiocdn.com;
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    font-src 'self' https://fonts.gstatic.com;
    img-src 'self' data: https: blob:;
    connect-src 'self' https://www.google-analytics.com https://analytics.google.com https://region1.google-analytics.com https://api.frankfurter.app;
    base-uri 'self';
    form-action 'self' https://wa.me;
  " />
  <meta http-equiv="X-Content-Type-Options" content="nosniff" />
  <meta name="referrer" content="strict-origin-when-cross-origin" />

  <title>Taman Wisata Bougenville | Luxury Mountain Resort in Bandung</title>
  <meta name="description"
    content="Experience luxury in nature at Taman Wisata Bougenville. Exclusive villas, organic farm-to-table dining, and pristine nature experiences in Mount Puntang, Bandung - just 2 hours from Jakarta." />
  <meta name="keywords"
    content="villa bandung, resort gunung puntang, luxury glamping bandung, family gathering bandung, honeymoon villa west java, wisata alam bandung, taman wisata bougenville" />
  <meta name="author" content="Taman Wisata Bougenville" />
  <meta name="robots" content="index, follow" />

  <!-- Open Graph Meta Tags -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Taman Wisata Bougenville | Luxury Mountain Resort" />
  <meta property="og:description"
    content="Experience luxury in nature. Exclusive villas, organic dining, and pristine nature in Mount Puntang, Bandung." />
  <meta property="og:image" content="https://tamanwisatabougenville.com/images/og-image.jpg" />
  <meta property="og:url" content="https://tamanwisatabougenville.com" />
  <meta property="og:site_name" content="Taman Wisata Bougenville" />
  <meta property="og:locale" content="id_ID" />
  <meta property="og:locale:alternate" content="en_US" />

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Taman Wisata Bougenville | Luxury Mountain Resort" />
  <meta name="twitter:description" content="Experience luxury in nature. Exclusive villas in Mount Puntang, Bandung." />
  <meta name="twitter:image" content="https://tamanwisatabougenville.com/images/og-image.jpg" />

  <!-- DNS Prefetch for external domains (Performance Optimization) -->
  <link rel="dns-prefetch" href="https://fonts.googleapis.com">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">
  <link rel="dns-prefetch" href="https://www.googletagmanager.com">
  <link rel="dns-prefetch" href="https://connect.facebook.net">

  <!-- Preconnect for critical external resources -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- LCP Image Preload (CRITICAL for performance) -->
  <link rel="preload" as="image" href="/images/home-page-hero.webp" type="image/webp" fetchpriority="high" />

  <!-- Async Google Fonts Loading (Non-blocking) -->
  <link rel="preload" as="style"
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Montserrat:wght@400;500;600&family=Noto+Sans+SC:wght@300;400;500;600&family=Noto+Sans:wght@300;400;500;600&display=swap">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Montserrat:wght@400;500;600&family=Noto+Sans+SC:wght@300;400;500;600&family=Noto+Sans:wght@300;400;500;600&display=swap"
    media="print" onload="this.media='all'">
  <noscript>
    <link rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Montserrat:wght@400;500;600&family=Noto+Sans+SC:wght@300;400;500;600&family=Noto+Sans:wght@300;400;500;600&display=swap">
  </noscript>

  <!-- Critical CSS (inline for fastest FCP) -->
  <style>
    /* Font fallback to prevent FOIT */
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: #F5F1E8;
    }

    ::-webkit-scrollbar-thumb {
      background: #D4AF37;
      border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #1A3D2E;
    }

    .hide-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .hide-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    html {
      scroll-padding-top: 100px;
    }

    .text-shadow {
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .text-shadow-lg {
      text-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    }

    /* Mobile First Optimization */
    input,
    select,
    button,
    textarea {
      min-height: 48px;
      touch-action: manipulation;
    }

    /* Ensure date inputs use native picker on mobile */
    input[type="date"] {
      -webkit-appearance: none;
      appearance: none;
      min-height: 48px;
    }

    /* Loading skeleton for LCP optimization */
    #root:empty {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      background: #F5F1E8;
    }

    #root:empty::after {
      content: '';
      width: 40px;
      height: 40px;
      border: 3px solid #D4AF37;
      border-top-color: transparent;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }
  </style>

  <meta name="theme-color" content="#1A3D2E">
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" type="image/png" sizes="192x192" href="/logo192.png">
  <link rel="apple-touch-icon" href="/logo192.png">
  <link rel="shortcut icon" href="/logo192.png">
</head>

<body class="bg-cream text-forest-dark antialiased">
  <div id="root"></div>
  <script type="module" src="/index.tsx"></script>

  <!-- Third-Party Scripts (Deferred - Non-blocking) -->
  <!-- Google Analytics 4 -->
  <script>
    // Defer analytics loading until after page load
    window.addEventListener('load', function () {
      // Wait 2 seconds after load to prioritize user experience
      setTimeout(function () {
        const ga4Id = '%VITE_GA4_ID%';
        if (ga4Id && ga4Id !== '' && !ga4Id.startsWith('%')) {
          // Load gtag.js dynamically
          const script = document.createElement('script');
          script.src = 'https://www.googletagmanager.com/gtag/js?id=' + ga4Id;
          script.async = true;
          document.head.appendChild(script);

          script.onload = function () {
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            window.gtag = gtag;
            gtag('js', new Date());
            gtag('config', ga4Id, {
              'send_page_view': true,
              'anonymize_ip': true
            });
          };
        }
      }, 2000);
    });
  </script>

  <!-- Facebook Pixel (Deferred) -->
  <script>
    window.addEventListener('load', function () {
      setTimeout(function () {
        const fbPixelId = '%VITE_FB_PIXEL_ID%';
        if (fbPixelId && fbPixelId !== '' && !fbPixelId.startsWith('%')) {
          !function (f, b, e, v, n, t, s) {
            if (f.fbq) return; n = f.fbq = function () {
              n.callMethod ?
                n.callMethod.apply(n, arguments) : n.queue.push(arguments)
            };
            if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0';
            n.queue = []; t = b.createElement(e); t.async = !0;
            t.src = v; s = b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t, s)
          }(window, document, 'script',
            'https://connect.facebook.net/en_US/fbevents.js');
          fbq('init', fbPixelId);
          fbq('track', 'PageView');
        }
      }, 2500);
    });
  </script>

  <!-- Service Worker Cleanup (Low Priority) -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function () {
        setTimeout(function () {
          navigator.serviceWorker.getRegistrations().then(function (registrations) {
            for (let registration of registrations) {
              registration.unregister();
            }
          });
        }, 5000);
      });
    }
  </script>
</body>

</html>